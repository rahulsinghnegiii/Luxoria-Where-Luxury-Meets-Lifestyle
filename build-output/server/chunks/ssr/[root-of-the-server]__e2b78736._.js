module.exports = {

"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}}),
"[externals]/util [external] (util, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("util", () => require("util"));

module.exports = mod;
}}),
"[externals]/crypto [external] (crypto, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("crypto", () => require("crypto"));

module.exports = mod;
}}),
"[externals]/process [external] (process, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("process", () => require("process"));

module.exports = mod;
}}),
"[externals]/tls [external] (tls, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("tls", () => require("tls"));

module.exports = mod;
}}),
"[externals]/fs [external] (fs, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("fs", () => require("fs"));

module.exports = mod;
}}),
"[externals]/os [external] (os, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("os", () => require("os"));

module.exports = mod;
}}),
"[externals]/net [external] (net, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("net", () => require("net"));

module.exports = mod;
}}),
"[externals]/events [external] (events, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("events", () => require("events"));

module.exports = mod;
}}),
"[externals]/stream [external] (stream, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("stream", () => require("stream"));

module.exports = mod;
}}),
"[externals]/path [external] (path, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("path", () => require("path"));

module.exports = mod;
}}),
"[externals]/http2 [external] (http2, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("http2", () => require("http2"));

module.exports = mod;
}}),
"[externals]/http [external] (http, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("http", () => require("http"));

module.exports = mod;
}}),
"[externals]/url [external] (url, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("url", () => require("url"));

module.exports = mod;
}}),
"[externals]/dns [external] (dns, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("dns", () => require("dns"));

module.exports = mod;
}}),
"[externals]/zlib [external] (zlib, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("zlib", () => require("zlib"));

module.exports = mod;
}}),
"[externals]/next/dist/server/app-render/action-async-storage.external.js [external] (next/dist/server/app-render/action-async-storage.external.js, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("next/dist/server/app-render/action-async-storage.external.js", () => require("next/dist/server/app-render/action-async-storage.external.js"));

module.exports = mod;
}}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}}),
"[project]/lib/firebase.ts [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "app": (()=>firebaseApp),
    "auth": (()=>auth),
    "db": (()=>db),
    "storage": (()=>storage)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$firebase$2f$app$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/firebase/app/dist/index.mjs [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$firebase$2f$firestore$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/firebase/firestore/dist/index.mjs [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$firebase$2f$auth$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/firebase/auth/dist/index.mjs [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$firebase$2f$storage$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/firebase/storage/dist/index.mjs [app-ssr] (ecmascript) <module evaluation>");
'use client';
;
;
;
;
// Function to check if the API key is potentially valid 
// Firebase API keys are typically formatted like AIzaSyB_Gf4aBcDeFgHiJkLmNoPqRsT_UvWxYz
const isValidApiKeyFormat = (key)=>{
    // Check if it's non-empty, has no quotes/commas, and starts with "AIza"
    if (!key || key.length < 10) return false;
    if (key.includes('"') || key.includes(',')) return false;
    return key.startsWith('AIza');
};
// Clean the API key - explicitly strip any quotes or commas
const cleanApiKey = ("TURBOPACK compile-time truthy", 1) ? ("TURBOPACK compile-time value", "AIzaSyBs3IxRtonXLuU4EgOQKqC_-c20-o2Wr_U").replace(/[",]/g, '') : ("TURBOPACK unreachable", undefined);
// Create safe instances with clearly defined types
let firebaseApp = null;
let db = null;
let auth = null;
let storage = null;
// Only initialize Firebase on the client side
if ("TURBOPACK compile-time falsy", 0) {
    "TURBOPACK unreachable";
}
;
}}),
"[project]/lib/authContext.tsx [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "AuthProvider": (()=>AuthProvider),
    "useAuth": (()=>useAuth)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$firebase$2f$auth$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/firebase/auth/dist/index.mjs [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$auth$2f$dist$2f$node$2d$esm$2f$totp$2d$7829abf2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__ac__as__signInWithEmailAndPassword$3e$__ = __turbopack_context__.i("[project]/node_modules/@firebase/auth/dist/node-esm/totp-7829abf2.js [app-ssr] (ecmascript) <export ac as signInWithEmailAndPassword>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$auth$2f$dist$2f$node$2d$esm$2f$totp$2d$7829abf2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__ab__as__createUserWithEmailAndPassword$3e$__ = __turbopack_context__.i("[project]/node_modules/@firebase/auth/dist/node-esm/totp-7829abf2.js [app-ssr] (ecmascript) <export ab as createUserWithEmailAndPassword>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$auth$2f$dist$2f$node$2d$esm$2f$totp$2d$7829abf2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__D__as__signOut$3e$__ = __turbopack_context__.i("[project]/node_modules/@firebase/auth/dist/node-esm/totp-7829abf2.js [app-ssr] (ecmascript) <export D as signOut>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$auth$2f$dist$2f$node$2d$esm$2f$totp$2d$7829abf2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__al__as__updateProfile$3e$__ = __turbopack_context__.i("[project]/node_modules/@firebase/auth/dist/node-esm/totp-7829abf2.js [app-ssr] (ecmascript) <export al as updateProfile>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$firebase$2f$firestore$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/firebase/firestore/dist/index.mjs [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@firebase/firestore/dist/index.node.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/cookies-next/lib/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/navigation.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/firebase.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
;
;
;
;
const AuthContext = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"])(undefined);
function AuthProvider({ children }) {
    const [user, setUser] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [loading, setLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(true);
    const [isAdmin, setIsAdmin] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const [auth, setAuth] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    const router = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$navigation$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useRouter"])();
    // Safely initialize auth on client side only
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        // Prevent execution in SSR
        if ("TURBOPACK compile-time truthy", 1) return;
        "TURBOPACK unreachable";
    }, []);
    // Fetch user role from Firestore
    const fetchUserRole = async (uid)=>{
        try {
            if (__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"]) {
                const userRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["doc"])(__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"], 'users', uid);
                const userDoc = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getDoc"])(userRef);
                if (userDoc.exists()) {
                    const userData = userDoc.data();
                    const userIsAdmin = userData.role === 'admin';
                    setIsAdmin(userIsAdmin);
                    // Set or clear admin cookie based on role
                    if (userIsAdmin) {
                        // Check if cookie exists already to avoid unnecessary writes
                        const existingRole = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getCookie"])('user_role');
                        if (existingRole !== 'admin') {
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setCookie"])('user_role', 'admin', {
                                maxAge: 30 * 24 * 60 * 60,
                                path: '/',
                                secure: ("TURBOPACK compile-time value", "development") === 'production',
                                sameSite: 'strict'
                            });
                            console.log('Admin cookie set for user:', uid);
                        }
                    } else if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getCookie"])('user_role') === 'admin') {
                        // If user has admin cookie but is not admin in DB, remove cookie
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deleteCookie"])('user_role');
                    }
                } else {
                    console.log('No user document found, creating one');
                    // Create user document if it doesn't exist
                    const currentUser = auth?.currentUser;
                    if (currentUser) {
                        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setDoc"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["doc"])(__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"], 'users', currentUser.uid), {
                            uid: currentUser.uid,
                            email: currentUser.email,
                            displayName: currentUser.displayName || currentUser.email?.split('@')[0] || '',
                            photoURL: currentUser.photoURL,
                            role: 'user',
                            createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["serverTimestamp"])()
                        });
                    }
                    setIsAdmin(false);
                    // Ensure no admin cookie exists
                    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getCookie"])('user_role') === 'admin') {
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deleteCookie"])('user_role');
                    }
                }
            }
        } catch (error) {
            console.error('Error fetching user role:', error);
            setIsAdmin(false);
        }
    };
    // Listen for auth state changes after auth is initialized
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        // Skip if auth is not initialized or we're in SSR
        if ("TURBOPACK compile-time truthy", 1) return;
        "TURBOPACK unreachable";
        // Listen for auth state changes
        const unsubscribe = undefined;
    }, [
        auth
    ]); // Depend on auth to re-run when auth is initialized
    const signIn = async (email, password)=>{
        setLoading(true);
        setError(null);
        try {
            if (!auth) {
                throw new Error('Firebase authentication is not initialized');
            }
            console.log('Authenticating user:', email);
            const userCredential = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$auth$2f$dist$2f$node$2d$esm$2f$totp$2d$7829abf2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__ac__as__signInWithEmailAndPassword$3e$__["signInWithEmailAndPassword"])(auth, email, password);
            const firebaseUser = userCredential.user;
            // Set the user with default isAdmin value
            const enhancedUser = {
                ...firebaseUser,
                isAdmin: false
            };
            setUser(enhancedUser);
            // Get the token from Firebase
            const token = await firebaseUser.getIdToken(true);
            // Set auth cookie with the Firebase token
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setCookie"])('auth_token', token, {
                maxAge: 30 * 24 * 60 * 60,
                path: '/',
                secure: ("TURBOPACK compile-time value", "development") === 'production',
                sameSite: 'strict'
            });
            // Fetch user role and update isAdmin state
            try {
                if (__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"]) {
                    const userRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["doc"])(__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"], 'users', firebaseUser.uid);
                    const userDoc = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getDoc"])(userRef);
                    if (userDoc.exists()) {
                        const userData = userDoc.data();
                        const userIsAdmin = userData.role === 'admin';
                        console.log('User role fetched:', {
                            uid: firebaseUser.uid,
                            role: userData.role,
                            isAdmin: userIsAdmin
                        });
                        // Update isAdmin state
                        setIsAdmin(userIsAdmin);
                        // Set user role cookie if user is admin
                        if (userIsAdmin) {
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setCookie"])('user_role', 'admin', {
                                maxAge: 30 * 24 * 60 * 60,
                                path: '/',
                                secure: ("TURBOPACK compile-time value", "development") === 'production',
                                sameSite: 'strict'
                            });
                            console.log('Admin cookie set for user:', email);
                        } else {
                            // Ensure no admin cookie exists if not admin
                            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deleteCookie"])('user_role');
                        }
                    } else {
                        console.log('No user document found, creating one');
                        // Create user document if it doesn't exist
                        await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setDoc"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["doc"])(__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"], 'users', firebaseUser.uid), {
                            uid: firebaseUser.uid,
                            email: firebaseUser.email,
                            displayName: firebaseUser.displayName || firebaseUser.email?.split('@')[0] || '',
                            photoURL: firebaseUser.photoURL,
                            role: 'user',
                            createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["serverTimestamp"])()
                        });
                        // Ensure no admin cookie exists
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deleteCookie"])('user_role');
                    }
                }
            } catch (roleError) {
                console.error('Error fetching user role:', roleError);
                // Still keep the auth cookie even if there was an error getting the role
                setIsAdmin(false);
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deleteCookie"])('user_role');
            }
            console.log('User successfully signed in:', email);
        } catch (err) {
            console.error('Login error:', err);
            const errorMessage = err instanceof Error ? err.message : typeof err === 'string' ? err : 'Failed to sign in';
            setError(mapAuthErrorToMessage(errorMessage));
            setUser(null);
            setIsAdmin(false);
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deleteCookie"])('auth_token');
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deleteCookie"])('user_role');
        } finally{
            setLoading(false);
        }
    };
    const signUp = async (email, password, name)=>{
        setLoading(true);
        setError(null);
        try {
            if (!auth) {
                throw new Error('Firebase authentication is not initialized');
            }
            // Create user with Firebase Authentication
            const userCredential = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$auth$2f$dist$2f$node$2d$esm$2f$totp$2d$7829abf2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__ab__as__createUserWithEmailAndPassword$3e$__["createUserWithEmailAndPassword"])(auth, email, password);
            const firebaseUser = userCredential.user;
            // Update display name
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$auth$2f$dist$2f$node$2d$esm$2f$totp$2d$7829abf2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__al__as__updateProfile$3e$__["updateProfile"])(firebaseUser, {
                displayName: name
            });
            // Create user document in Firestore
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setDoc"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["doc"])(__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"], 'users', firebaseUser.uid), {
                name: name,
                email: email,
                role: 'user',
                createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["serverTimestamp"])(),
                lastLogin: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["serverTimestamp"])()
            });
            // Set the user with default isAdmin value
            const enhancedUser = {
                ...firebaseUser,
                isAdmin: false
            };
            setUser(enhancedUser);
            // Set auth cookie
            const token = await firebaseUser.getIdToken();
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setCookie"])('auth_token', token, {
                maxAge: 30 * 24 * 60 * 60,
                path: '/',
                secure: ("TURBOPACK compile-time value", "development") === 'production',
                sameSite: 'strict'
            });
            console.log('User successfully registered:', email);
        } catch (err) {
            console.error('Registration error:', err);
            setError(mapAuthErrorToMessage(err instanceof Error ? err.message : String(err)));
            setUser(null);
            setIsAdmin(false);
        } finally{
            setLoading(false);
        }
    };
    const signOut = async ()=>{
        if (!auth) {
            setError('Authentication service is not available');
            return Promise.reject(new Error('Authentication service is not available'));
        }
        try {
            // Sign out from Firebase
            await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$auth$2f$dist$2f$node$2d$esm$2f$totp$2d$7829abf2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__D__as__signOut$3e$__["signOut"])(auth);
            // Clear all authentication cookies
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deleteCookie"])('auth_token');
            (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["deleteCookie"])('user_role');
            // Reset user state
            setUser(null);
            setIsAdmin(false);
            // Redirect to home page
            router.push('/');
            console.log('User signed out successfully');
        } catch (err) {
            console.error('Logout error:', err);
            const errorMessage = err instanceof Error ? err.message : typeof err === 'string' ? err : 'Failed to sign out';
            setError(mapAuthErrorToMessage(errorMessage));
            throw err;
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(AuthContext.Provider, {
        value: {
            user,
            loading,
            isAdmin,
            error,
            signIn,
            signUp,
            signOut
        },
        children: children
    }, void 0, false, {
        fileName: "[project]/lib/authContext.tsx",
        lineNumber: 344,
        columnNumber: 5
    }, this);
}
function useAuth() {
    const context = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"])(AuthContext);
    if (context === undefined) {
        console.warn('useAuth called outside of AuthProvider, using fallback implementation');
        // Return a fallback implementation
        return {
            user: null,
            loading: false,
            isAdmin: false,
            error: null,
            signIn: async ()=>{
                console.warn('Auth not available: signIn called outside AuthProvider');
            },
            signUp: async ()=>{
                console.warn('Auth not available: signUp called outside AuthProvider');
            },
            signOut: async ()=>{
                console.warn('Auth not available: signOut called outside AuthProvider');
            }
        };
    }
    return context;
}
// Helper function to map Firebase error codes to user-friendly messages
function mapAuthErrorToMessage(errorCode) {
    const errorMessages = {
        'auth/email-already-in-use': 'This email is already registered.',
        'auth/weak-password': 'Password should be at least 6 characters.',
        'auth/user-not-found': 'Invalid email or password.',
        'auth/wrong-password': 'Invalid email or password.',
        'auth/invalid-email': 'Please enter a valid email address.',
        'auth/too-many-requests': 'Too many unsuccessful login attempts. Please try again later.',
        'auth/network-request-failed': 'Network error. Please check your connection.',
        'auth/api-key-not-valid': 'Invalid API key. Please check your Firebase configuration.'
    };
    return errorMessages[errorCode] || `Unexpected error: ${errorCode}`;
}
}}),
"[project]/lib/firebaseUtils.ts [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "addProduct": (()=>addProduct),
    "clearAuthCookies": (()=>clearAuthCookies),
    "createOrder": (()=>createOrder),
    "deleteProduct": (()=>deleteProduct),
    "getCurrentUser": (()=>getCurrentUser),
    "getProductById": (()=>getProductById),
    "getProducts": (()=>getProducts),
    "getProductsByCategory": (()=>getProductsByCategory),
    "getUserOrders": (()=>getUserOrders),
    "setAuthCookies": (()=>setAuthCookies),
    "signIn": (()=>signIn),
    "signOut": (()=>signOut),
    "signUp": (()=>signUp),
    "transformFirebaseStorageUrl": (()=>transformFirebaseStorageUrl),
    "updateProduct": (()=>updateProduct),
    "uploadProductImage": (()=>uploadProductImage)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/firebase.ts [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$firebase$2f$firestore$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/firebase/firestore/dist/index.mjs [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@firebase/firestore/dist/index.node.mjs [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$firebase$2f$auth$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/firebase/auth/dist/index.mjs [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$auth$2f$dist$2f$node$2d$esm$2f$totp$2d$7829abf2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__ab__as__createUserWithEmailAndPassword$3e$__ = __turbopack_context__.i("[project]/node_modules/@firebase/auth/dist/node-esm/totp-7829abf2.js [app-ssr] (ecmascript) <export ab as createUserWithEmailAndPassword>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$firebase$2f$storage$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$module__evaluation$3e$__ = __turbopack_context__.i("[project]/node_modules/firebase/storage/dist/index.mjs [app-ssr] (ecmascript) <module evaluation>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$storage$2f$dist$2f$node$2d$esm$2f$index$2e$node$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@firebase/storage/dist/node-esm/index.node.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$cookies$2d$next$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/cookies-next/lib/index.js [app-ssr] (ecmascript)");
;
;
;
;
;
// Check if we're using mock services (for development)
// Always use real Firebase unless explicitly set to use mocks
const shouldUseMockServices = ()=>{
    // Always prioritize the environment variable setting
    if ("TURBOPACK compile-time truthy", 1) {
        return false;
    }
    "TURBOPACK unreachable";
    // Fall back to mock only if auth is unavailable AND not explicitly set to false
    const authIsUnavailable = undefined;
};
// Also check if we're in the browser
const isBrowser = "undefined" !== 'undefined';
// Mock user for development
let mockUser = null;
const signUp = async (email, password)=>{
    try {
        // Check if we should use mock services
        if (shouldUseMockServices()) {
            console.log('Using mock signup service');
            // Simulate authentication delay
            await new Promise((resolve)=>setTimeout(resolve, 1000));
            // Create a mock user
            const mockUser = {
                uid: `mock-${Math.random().toString(36).substr(2, 9)}`,
                email,
                displayName: email.split('@')[0]
            };
            // Store in localStorage to simulate persistence
            localStorage.setItem('mockUser', JSON.stringify(mockUser));
            // Also create a corresponding user document in the mock database
            if (!localStorage.getItem('mockDatabase')) {
                localStorage.setItem('mockDatabase', JSON.stringify({}));
            }
            const mockDb = JSON.parse(localStorage.getItem('mockDatabase') || '{}');
            if (!mockDb.users) {
                mockDb.users = {};
            }
            // Create a user document with default role
            mockDb.users[mockUser.uid] = {
                uid: mockUser.uid,
                email: mockUser.email,
                displayName: mockUser.displayName,
                role: 'user',
                createdAt: new Date().toISOString()
            };
            localStorage.setItem('mockDatabase', JSON.stringify(mockDb));
            setAuthCookies(mockUser);
            return mockUser;
        }
        // Use actual Firebase Auth
        const userCredential = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$auth$2f$dist$2f$node$2d$esm$2f$totp$2d$7829abf2$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__ab__as__createUserWithEmailAndPassword$3e$__["createUserWithEmailAndPassword"])(__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["auth"], email, password);
        const user = userCredential.user;
        // Create a document in the users collection with the user's information
        if (user && __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"]) {
            try {
                // Create a user document in Firestore
                await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["setDoc"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["doc"])(__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["db"], 'users', user.uid), {
                    uid: user.uid,
                    email: user.email,
                    displayName: user.displayName || email.split('@')[0],
                    photoURL: user.photoURL,
                    role: 'user',
                    createdAt: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$firestore$2f$dist$2f$index$2e$node$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["serverTimestamp"])()
                });
                console.log('User document created in Firestore');
            } catch (error) {
                console.error('Error creating user document:', error);
            // Consider whether to delete the auth user if Firestore creation fails
            // This depends on your requirements for data consistency
            }
        }
        setAuthCookies(user);
        return user;
    } catch (error) {
        console.error('Error signing up:', error);
        throw error;
    }
};
const setAuthCookies = (user)=>{
    if ("TURBOPACK compile-time truthy", 1) return;
    "TURBOPACK unreachable";
};
const clearAuthCookies = ()=>{
    if ("TURBOPACK compile-time truthy", 1) return;
    "TURBOPACK unreachable";
};
const signIn = async (email, password)=>{
    const USE_MOCK_SERVICES = shouldUseMockServices();
    if ("TURBOPACK compile-time truthy", 1) {
        console.log('Mock signin with:', email);
        mockUser = {
            uid: 'mock-user-123',
            email: email,
            emailVerified: true,
            isAdmin: email.includes('admin')
        };
        // Set auth cookies for the mock user
        setAuthCookies({
            uid: mockUser.uid,
            email: mockUser.email || '',
            isAdmin: email.includes('admin')
        });
        return {
            user: mockUser
        };
    } else {
        "TURBOPACK unreachable";
    }
};
const signOut = async ()=>{
    const USE_MOCK_SERVICES = shouldUseMockServices();
    if ("TURBOPACK compile-time truthy", 1) {
        console.log('Mock signout');
        mockUser = null;
        // Clear auth cookies
        clearAuthCookies();
        return Promise.resolve();
    } else {
        "TURBOPACK unreachable";
    }
};
const getCurrentUser = ()=>{
    const USE_MOCK_SERVICES = shouldUseMockServices();
    if ("TURBOPACK compile-time truthy", 1) {
        // In development, return the mock user
        return Promise.resolve(mockUser);
    } else {
        "TURBOPACK unreachable";
    }
};
const getProducts = async ()=>{
    const USE_MOCK_SERVICES = shouldUseMockServices();
    if ("TURBOPACK compile-time truthy", 1) {
        console.warn('Using mock product data because Firebase is unavailable');
        // Check if we have mock products in localStorage
        try {
            if ("TURBOPACK compile-time falsy", 0) {
                "TURBOPACK unreachable";
            }
        } catch (error) {
            console.error('Error retrieving mock products:', error);
        }
        return []; // Return empty array if no mock products found
    } else {
        "TURBOPACK unreachable";
    }
};
const getProductsByCategory = async (category)=>{
    const USE_MOCK_SERVICES = shouldUseMockServices();
    if ("TURBOPACK compile-time truthy", 1) {
        console.warn('Using mock product category data because Firebase is unavailable');
        // Check if we have mock products in localStorage
        try {
            if ("TURBOPACK compile-time falsy", 0) {
                "TURBOPACK unreachable";
            }
        } catch (error) {
            console.error('Error retrieving mock products by category:', error);
        }
        return []; // Return empty array if no mock products found
    } else {
        "TURBOPACK unreachable";
    }
};
const getProductById = async (id)=>{
    const USE_MOCK_SERVICES = shouldUseMockServices();
    if ("TURBOPACK compile-time truthy", 1) {
        console.warn('Using mock product detail data because Firebase is unavailable');
        // Check if we have mock products in localStorage
        try {
            if ("TURBOPACK compile-time falsy", 0) {
                "TURBOPACK unreachable";
            }
        } catch (error) {
            console.error('Error retrieving mock product by ID:', error);
        }
        console.log('No product found with ID:', id);
        return null; // Return null if no mock product found
    } else {
        "TURBOPACK unreachable";
    }
};
const addProduct = async (product)=>{
    const USE_MOCK_SERVICES = shouldUseMockServices();
    if ("TURBOPACK compile-time truthy", 1) {
        // Create a mock product ID
        const productId = `mock-product-${Date.now()}`;
        try {
            if ("TURBOPACK compile-time falsy", 0) {
                "TURBOPACK unreachable";
            }
        } catch (error) {
            console.error('Error storing mock product:', error);
        }
        return Promise.resolve(productId);
    } else {
        "TURBOPACK unreachable";
    }
};
const updateProduct = async (id, product)=>{
    const USE_MOCK_SERVICES = shouldUseMockServices();
    if ("TURBOPACK compile-time truthy", 1) {
        try {
            if ("TURBOPACK compile-time falsy", 0) {
                "TURBOPACK unreachable";
            }
        } catch (error) {
            console.error('Error updating mock product:', error);
        }
        return Promise.resolve();
    } else {
        "TURBOPACK unreachable";
    }
};
const deleteProduct = async (id)=>{
    const USE_MOCK_SERVICES = shouldUseMockServices();
    if ("TURBOPACK compile-time truthy", 1) {
        try {
            if ("TURBOPACK compile-time falsy", 0) {
                "TURBOPACK unreachable";
            }
        } catch (error) {
            console.error('Error deleting mock product:', error);
        }
        return Promise.resolve();
    } else {
        "TURBOPACK unreachable";
    }
};
const getUserOrders = async (userId)=>{
    const USE_MOCK_SERVICES = shouldUseMockServices();
    if ("TURBOPACK compile-time truthy", 1) {
        // In development, return empty orders array
        console.log('Getting mock orders for user:', userId);
        return Promise.resolve([]);
    } else {
        "TURBOPACK unreachable";
    }
};
const createOrder = async (order)=>{
    const USE_MOCK_SERVICES = shouldUseMockServices();
    // In development, create a mock order ID
    console.log('Creating mock order:', order);
    return Promise.resolve(`mock-order-${Date.now()}`);
};
const uploadProductImage = async (file)=>{
    // Mock service for demo/development
    if (shouldUseMockServices()) {
        console.log('Using mock service for image upload:', file.name);
        // Simulate delay
        await new Promise((resolve)=>setTimeout(resolve, 1000));
        // Generate color for the SVG
        const getRandomColor = ()=>{
            const colors = [
                '#4285F4',
                '#34A853',
                '#FBBC05',
                '#EA4335',
                '#5E35B1',
                '#1E88E5',
                '#43A047',
                '#E53935',
                '#FB8C00',
                '#00ACC1'
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        };
        // Generate a simple SVG with the filename
        const color = getRandomColor();
        const svgContent = `
      <svg xmlns="http://www.w3.org/2000/svg" width="600" height="400" viewBox="0 0 600 400">
        <rect width="600" height="400" fill="${color}" />
        <text x="50%" y="50%" font-family="Arial" font-size="24" text-anchor="middle" fill="white">${file.name}</text>
      </svg>
    `;
        // Convert SVG to base64 data URL
        const base64Image = `data:image/svg+xml;base64,${btoa(svgContent.trim())}`;
        return Promise.resolve(base64Image);
    } else {
        try {
            if (!__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["storage"]) {
                throw new Error('Firebase storage is not initialized');
            }
            // Create a reference to the file in Firebase Storage
            // Remove special characters from filename to avoid URL encoding issues
            const safeFileName = file.name.replace(/[#?&]/g, '_');
            const storageRef = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$storage$2f$dist$2f$node$2d$esm$2f$index$2e$node$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ref"])(__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebase$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["storage"], `product-images/${Date.now()}-${safeFileName}`);
            // Upload the file
            const snapshot = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$storage$2f$dist$2f$node$2d$esm$2f$index$2e$node$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["uploadBytes"])(storageRef, file);
            try {
                // Get the download URL - this might fail due to CORS
                const downloadURL = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$firebase$2f$storage$2f$dist$2f$node$2d$esm$2f$index$2e$node$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getDownloadURL"])(snapshot.ref);
                // Transform the URL to ensure it's CORS-friendly
                const transformedURL = transformFirebaseStorageUrl(downloadURL);
                // Double check that the URL has ?alt=media at the end
                const finalURL = !transformedURL.includes('?alt=media') ? transformedURL.includes('?') ? `${transformedURL}&alt=media` : `${transformedURL}?alt=media` : transformedURL;
                console.log('Uploaded image URL:', finalURL);
                return finalURL;
            } catch (urlError) {
                console.error('Error getting Firebase Storage download URL:', urlError);
                throw urlError;
            }
        } catch (error) {
            console.error('Error uploading image to Firebase Storage:', error);
            // Generate a fallback image with the filename
            const fileName = file.name || 'image';
            const svgContent = `
        <svg xmlns="http://www.w3.org/2000/svg" width="600" height="400" viewBox="0 0 600 400">
          <rect width="600" height="400" fill="#4285F4" />
          <text x="50%" y="50%" font-family="Arial" font-size="24" text-anchor="middle" fill="white">${fileName}</text>
        </svg>
      `;
            // Convert SVG to base64 data URL
            const base64Image = `data:image/svg+xml;base64,${btoa(svgContent.trim())}`;
            return base64Image;
        }
    }
};
const transformFirebaseStorageUrl = (url)=>{
    // If it's not a Firebase Storage URL, return it unchanged
    if (!url || typeof url !== 'string' || !url.includes('firebasestorage.googleapis.com')) {
        return url;
    }
    try {
        // For Firebase Storage URLs, try to transform to a direct download URL format
        // This is a workaround for CORS issues with the default Firebase Storage URLs
        // Check if the URL is already in the download format
        if (url.includes('/o/') && url.includes('?alt=media')) {
            return url; // Already in the correct format
        }
        // Extract the path and convert to the direct download format
        if (url.includes('/o?name=')) {
            // Format is: https://firebasestorage.googleapis.com/v0/b/[bucket]/o?name=[path]
            // Extract the bucket name from the URL
            const bucketPart = url.split('/b/')[1];
            const bucket = bucketPart.split('.')[0];
            // Extract the file path, which comes after name=
            let path = '';
            if (url.includes('name=')) {
                path = url.split('name=')[1];
                // Remove any additional query parameters if present
                if (path.includes('&')) {
                    path = path.split('&')[0];
                }
            }
            // Decode the path if it's URL encoded
            const decodedPath = decodeURIComponent(path);
            // Build direct download URL with alt=media parameter
            return `https://firebasestorage.googleapis.com/v0/b/${bucket}/o/${encodeURIComponent(decodedPath)}?alt=media`;
        }
        // Handle the case where the URL might be in the download format but missing alt=media
        if (url.includes('/o/')) {
            // Make sure the URL ends with ?alt=media
            const urlParts = url.split('?');
            const baseUrl = urlParts[0];
            // Parse existing query params
            const params = new URLSearchParams(urlParts.length > 1 ? urlParts[1] : '');
            params.set('alt', 'media');
            return `${baseUrl}?${params.toString()}`;
        }
        // Manually handle the specific format from the error message
        // If we have a standard firebasestorage URL structure
        const match = url.match(/https:\/\/firebasestorage\.googleapis\.com\/v\d+\/b\/([^/]+)\/o/);
        if (match) {
            const bucket = match[1].split('.')[0];
            // Try to extract the file path
            let path = '';
            // First try the format with 'name=' parameter
            if (url.includes('name=')) {
                path = url.split('name=')[1];
                if (path.includes('&')) {
                    path = path.split('&')[0];
                }
            }
            // If we have a path, construct a proper download URL
            if (path) {
                return `https://firebasestorage.googleapis.com/v0/b/${bucket}/o/${encodeURIComponent(decodeURIComponent(path))}?alt=media`;
            }
        }
    } catch (error) {
        console.error('Error transforming Firebase Storage URL:', error, url);
    }
    // Last resort: just append ?alt=media if not present
    if (!url.includes('?alt=media')) {
        return url.includes('?') ? `${url}&alt=media` : `${url}?alt=media`;
    }
    // If anything fails, return the original URL
    return url;
};
}}),
"[project]/lib/cartContext.tsx [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "CartProvider": (()=>CartProvider),
    "useCart": (()=>useCart)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebaseUtils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/firebaseUtils.ts [app-ssr] (ecmascript)");
'use client';
;
;
;
const CartContext = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"])(undefined);
// Helper function to safely access localStorage
const safeLocalStorage = {
    getItem: (key)=>{
        if ("TURBOPACK compile-time truthy", 1) return null;
        "TURBOPACK unreachable";
    },
    setItem: (key, value)=>{
        if ("TURBOPACK compile-time truthy", 1) return false;
        "TURBOPACK unreachable";
    }
};
const CartProvider = ({ children })=>{
    const [items, setItems] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])([]);
    const [isInitialized, setIsInitialized] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    const [isLoading, setIsLoading] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(true);
    const [error, setError] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(null);
    // Load cart from localStorage on mount - client-side only
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        // Use setTimeout to ensure this runs after hydration
        const timer = setTimeout(()=>{
            try {
                const savedCart = safeLocalStorage.getItem('cart');
                if (savedCart) {
                    setItems(JSON.parse(savedCart));
                }
            } catch (error) {
                console.error('Error loading cart from localStorage:', error);
                setError('Failed to load your cart. Please refresh the page.');
            } finally{
                setIsInitialized(true);
                setIsLoading(false);
            }
        }, 0);
        return ()=>clearTimeout(timer);
    }, []);
    // Save cart to localStorage whenever it changes - client-side only
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!isInitialized) return;
        try {
            safeLocalStorage.setItem('cart', JSON.stringify(items));
        } catch (error) {
            console.error('Error saving cart to localStorage:', error);
            setError('Failed to save your cart. Changes may not persist.');
        }
    }, [
        items,
        isInitialized
    ]);
    // Sync with Firebase when user logs in
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        if (!isInitialized) return;
        const syncCartWithFirebase = async ()=>{
            try {
                const user = await (0, __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$firebaseUtils$2e$ts__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getCurrentUser"])();
                if (user) {
                    // In a real app, you would fetch the user's cart from Firestore
                    // and merge it with the local cart
                    console.log('User logged in, syncing cart with Firebase');
                }
            } catch (error) {
                console.error('Error syncing cart with Firebase:', error);
            // Don't set an error here as it's not critical for user experience
            }
        };
        syncCartWithFirebase();
    }, [
        isInitialized
    ]);
    const addItem = (product, quantity = 1)=>{
        if (!product || !product.id) {
            console.error('Invalid product:', product);
            setError('Failed to add item to cart: Invalid product data');
            return;
        }
        setItems((prevItems)=>{
            try {
                // Check if item already exists in cart
                const existingItem = prevItems.find((item)=>item.productId === product.id);
                if (existingItem) {
                    // Update quantity if item exists
                    return prevItems.map((item)=>item.productId === product.id ? {
                            ...item,
                            quantity: item.quantity + quantity
                        } : item);
                } else {
                    // Add new item if it doesn't exist
                    return [
                        ...prevItems,
                        {
                            id: Math.random().toString(36).substr(2, 9),
                            productId: product.id,
                            name: product.name,
                            price: product.price,
                            image: product.images[0],
                            quantity
                        }
                    ];
                }
            } catch (error) {
                console.error('Error adding item to cart:', error);
                setError('Failed to add item to cart. Please try again.');
                return prevItems;
            }
        });
    };
    const removeItem = (id)=>{
        try {
            setItems((prevItems)=>prevItems.filter((item)=>item.id !== id));
        } catch (error) {
            console.error('Error removing item from cart:', error);
            setError('Failed to remove item from cart. Please try again.');
        }
    };
    const updateQuantity = (id, quantity)=>{
        try {
            if (quantity <= 0) {
                removeItem(id);
                return;
            }
            setItems((prevItems)=>prevItems.map((item)=>item.id === id ? {
                        ...item,
                        quantity
                    } : item));
        } catch (error) {
            console.error('Error updating item quantity:', error);
            setError('Failed to update item quantity. Please try again.');
        }
    };
    const clearCart = ()=>{
        try {
            setItems([]);
        } catch (error) {
            console.error('Error clearing cart:', error);
            setError('Failed to clear your cart. Please try again.');
        }
    };
    const getTotalItems = ()=>{
        try {
            return items.reduce((total, item)=>total + item.quantity, 0);
        } catch (error) {
            console.error('Error calculating total items:', error);
            return 0;
        }
    };
    const getTotalPrice = ()=>{
        try {
            return items.reduce((total, item)=>total + item.price * item.quantity, 0);
        } catch (error) {
            console.error('Error calculating total price:', error);
            return 0;
        }
    };
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(CartContext.Provider, {
        value: {
            items,
            addItem,
            removeItem,
            updateQuantity,
            clearCart,
            getTotalItems,
            getTotalPrice,
            isLoading,
            error
        },
        children: children
    }, void 0, false, {
        fileName: "[project]/lib/cartContext.tsx",
        lineNumber: 202,
        columnNumber: 5
    }, this);
};
const useCart = ()=>{
    const context = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"])(CartContext);
    if (context === undefined) {
        console.warn('useCart called outside of CartProvider, using fallback implementation');
        // Return a fallback implementation
        return {
            items: [],
            addItem: ()=>console.warn('Cart not available'),
            removeItem: ()=>console.warn('Cart not available'),
            updateQuantity: ()=>console.warn('Cart not available'),
            clearCart: ()=>console.warn('Cart not available'),
            getTotalItems: ()=>0,
            getTotalPrice: ()=>0,
            isLoading: false,
            error: null
        };
    }
    return context;
};
}}),
"[project]/components/ClientProviders.tsx [app-ssr] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { g: global, __dirname } = __turbopack_context__;
{
__turbopack_context__.s({
    "default": (()=>ClientProviders)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$authContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/authContext.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$cartContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/lib/cartContext.tsx [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/react-hot-toast/dist/index.mjs [app-ssr] (ecmascript)");
'use client';
;
;
;
;
;
;
function ClientProviders({ children }) {
    const [isMounted, setIsMounted] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(false);
    // Only render providers after component is mounted on client
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        setIsMounted(true);
    }, []);
    // Don't render anything that uses client-side features until mounted
    if (!isMounted) {
        return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
            children: children
        }, void 0, false);
    }
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(ErrorBoundary, {
        fallback: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(FallbackComponent, {}, void 0, false, {
            fileName: "[project]/components/ClientProviders.tsx",
            lineNumber: 23,
            columnNumber: 30
        }, void 0),
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$authContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["AuthProvider"], {
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$lib$2f$cartContext$2e$tsx__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CartProvider"], {
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$react$2d$hot$2d$toast$2f$dist$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Toaster"], {
                        position: "top-right",
                        toastOptions: {
                            duration: 3000,
                            style: {
                                background: '#363636',
                                color: '#fff'
                            },
                            success: {
                                duration: 3000,
                                style: {
                                    background: '#4ade80',
                                    color: '#fff'
                                }
                            },
                            error: {
                                duration: 4000,
                                style: {
                                    background: '#ef4444',
                                    color: '#fff'
                                }
                            }
                        }
                    }, void 0, false, {
                        fileName: "[project]/components/ClientProviders.tsx",
                        lineNumber: 26,
                        columnNumber: 11
                    }, this),
                    children
                ]
            }, void 0, true, {
                fileName: "[project]/components/ClientProviders.tsx",
                lineNumber: 25,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/components/ClientProviders.tsx",
            lineNumber: 24,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/components/ClientProviders.tsx",
        lineNumber: 23,
        columnNumber: 5
    }, this);
}
// Simple error boundary component
class ErrorBoundary extends __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"].Component {
    state = {
        hasError: false,
        error: null
    };
    static getDerivedStateFromError(error) {
        return {
            hasError: true,
            error
        };
    }
    componentDidCatch(error, errorInfo) {
        console.error("Error in client providers:", error, errorInfo);
    }
    render() {
        if (this.state.hasError) {
            return this.props.fallback;
        }
        return this.props.children;
    }
}
// Fallback UI when providers fail
function FallbackComponent() {
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
        className: "min-h-screen flex items-center justify-center bg-gray-50 px-4",
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
            className: "max-w-md w-full space-y-8 p-10 bg-white rounded-xl shadow-md",
            children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("div", {
                className: "text-center",
                children: [
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("h2", {
                        className: "mt-6 text-3xl font-extrabold text-gray-900",
                        children: "Something went wrong"
                    }, void 0, false, {
                        fileName: "[project]/components/ClientProviders.tsx",
                        lineNumber: 87,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("p", {
                        className: "mt-2 text-sm text-gray-600",
                        children: "There was an error initializing the app. Please refresh the page."
                    }, void 0, false, {
                        fileName: "[project]/components/ClientProviders.tsx",
                        lineNumber: 88,
                        columnNumber: 11
                    }, this),
                    /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])("button", {
                        onClick: ()=>window.location.reload(),
                        className: "mt-4 px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none",
                        children: "Refresh Page"
                    }, void 0, false, {
                        fileName: "[project]/components/ClientProviders.tsx",
                        lineNumber: 91,
                        columnNumber: 11
                    }, this)
                ]
            }, void 0, true, {
                fileName: "[project]/components/ClientProviders.tsx",
                lineNumber: 86,
                columnNumber: 9
            }, this)
        }, void 0, false, {
            fileName: "[project]/components/ClientProviders.tsx",
            lineNumber: 85,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/components/ClientProviders.tsx",
        lineNumber: 84,
        columnNumber: 5
    }, this);
}
}}),
"[externals]/next/dist/server/app-render/after-task-async-storage.external.js [external] (next/dist/server/app-render/after-task-async-storage.external.js, cjs)": (function(__turbopack_context__) {

var { g: global, __dirname, m: module, e: exports } = __turbopack_context__;
{
const mod = __turbopack_context__.x("next/dist/server/app-render/after-task-async-storage.external.js", () => require("next/dist/server/app-render/after-task-async-storage.external.js"));

module.exports = mod;
}}),

};

//# sourceMappingURL=%5Broot-of-the-server%5D__e2b78736._.js.map