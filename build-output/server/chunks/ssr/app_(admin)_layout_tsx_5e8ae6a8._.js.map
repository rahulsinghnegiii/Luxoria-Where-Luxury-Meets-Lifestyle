{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://G%3A/PORTFOLIO/e-commerce-store/app/%28admin%29/layout.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { useAuth } from '@/lib/authContext';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport default function AdminLayout({\r\n  children,\r\n}: {\r\n  children: React.ReactNode;\r\n}) {\r\n  const { user, isAdmin, loading } = useAuth();\r\n  const router = useRouter();\r\n  const [isSidebarOpen, setSidebarOpen] = useState(true);\r\n  const [isMobileMenuOpen, setMobileMenuOpen] = useState(false);\r\n  const [isCheckingAuth, setIsCheckingAuth] = useState(true);\r\n\r\n  // Check if user is admin, redirect if not\r\n  useEffect(() => {\r\n    // Only proceed with the check if loading is complete\r\n    if (!loading) {\r\n      // Short delay to ensure auth state is fully processed\r\n      const timer = setTimeout(() => {\r\n        if (!user || !isAdmin) {\r\n          toast.error('You need admin privileges to access this area');\r\n          router.push('/');\r\n        }\r\n        setIsCheckingAuth(false);\r\n      }, 500);\r\n      \r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [user, isAdmin, loading, router]);\r\n\r\n  // Don't render anything while checking authentication\r\n  if (loading || isCheckingAuth) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\r\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Only render the admin layout if the user is authenticated and is an admin\r\n  if (!user || !isAdmin) {\r\n    return null; // Return nothing while redirecting\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-100\">\r\n      {/* Mobile Navigation Bar */}\r\n      <div className=\"lg:hidden bg-indigo-800 text-white p-4 flex items-center justify-between\">\r\n        <div className=\"flex items-center\">\r\n          <Link href=\"/dashboard\" className=\"text-xl font-bold\">\r\n            Luxoria Admin\r\n          </Link>\r\n        </div>\r\n        <button\r\n          onClick={() => setMobileMenuOpen(!isMobileMenuOpen)}\r\n          className=\"p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-white\"\r\n        >\r\n          <svg\r\n            className=\"h-6 w-6\"\r\n            fill=\"none\"\r\n            stroke=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              strokeWidth={2}\r\n              d={isMobileMenuOpen ? \"M6 18L18 6M6 6l12 12\" : \"M4 6h16M4 12h16M4 18h16\"}\r\n            />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n\r\n      {/* Mobile Sidebar */}\r\n      {isMobileMenuOpen && (\r\n        <div className=\"lg:hidden fixed inset-0 z-50 bg-gray-900 bg-opacity-50\">\r\n          <div className=\"fixed top-0 left-0 bottom-0 w-64 bg-indigo-800 text-white\">\r\n            <div className=\"p-4 flex justify-between items-center\">\r\n              <span className=\"text-xl font-bold\">Luxoria Admin</span>\r\n              <button\r\n                onClick={() => setMobileMenuOpen(false)}\r\n                className=\"p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-white\"\r\n              >\r\n                <svg\r\n                  className=\"h-6 w-6\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    strokeWidth={2}\r\n                    d=\"M6 18L18 6M6 6l12 12\"\r\n                  />\r\n                </svg>\r\n              </button>\r\n            </div>\r\n            <nav className=\"px-2 py-4\">\r\n              <AdminNavLinks closeMobileMenu={() => setMobileMenuOpen(false)} />\r\n            </nav>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Desktop Layout */}\r\n      <div className=\"flex h-screen overflow-hidden\">\r\n        {/* Desktop Sidebar */}\r\n        <div className={`hidden lg:block bg-indigo-800 text-white ${isSidebarOpen ? 'w-64' : 'w-20'} transition-all duration-300 ease-in-out`}>\r\n          <div className=\"p-4 flex items-center justify-between\">\r\n            {isSidebarOpen ? (\r\n              <Link href=\"/dashboard\" className=\"text-xl font-bold\">\r\n                Luxoria Admin\r\n              </Link>\r\n            ) : (\r\n              <Link href=\"/dashboard\" className=\"text-xl font-bold\">\r\n                L\r\n              </Link>\r\n            )}\r\n            <button\r\n              onClick={() => setSidebarOpen(!isSidebarOpen)}\r\n              className=\"p-2 rounded-md focus:outline-none focus:ring-2 focus:ring-white\"\r\n            >\r\n              <svg\r\n                className=\"h-6 w-6\"\r\n                fill=\"none\"\r\n                stroke=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d={isSidebarOpen ? \"M15 19l-7-7 7-7\" : \"M9 5l7 7-7 7\"}\r\n                />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n          <nav className=\"px-2 py-4\">\r\n            <AdminNavLinks collapsed={!isSidebarOpen} />\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Main Content */}\r\n        <div className=\"flex-1 overflow-auto\">\r\n          <main className=\"p-4 sm:p-6 lg:p-8\">\r\n            {children}\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface AdminNavLinksProps {\r\n  collapsed?: boolean;\r\n  closeMobileMenu?: () => void;\r\n}\r\n\r\nfunction AdminNavLinks({ collapsed = false, closeMobileMenu }: AdminNavLinksProps) {\r\n  // Get current path to highlight active link\r\n  const [activePath, setActivePath] = useState('');\r\n  \r\n  useEffect(() => {\r\n    setActivePath(window.location.pathname);\r\n  }, []);\r\n\r\n  const navItems = [\r\n    {\r\n      name: 'Dashboard',\r\n      path: '/dashboard',\r\n      icon: (\r\n        <svg className=\"h-6 w-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\r\n        </svg>\r\n      ),\r\n    },\r\n    {\r\n      name: 'Products',\r\n      path: '/dashboard/products',\r\n      icon: (\r\n        <svg className=\"h-6 w-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\" />\r\n        </svg>\r\n      ),\r\n    },\r\n    {\r\n      name: 'Add Product',\r\n      path: '/dashboard/products/new',\r\n      icon: (\r\n        <svg className=\"h-6 w-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 6v6m0 0v6m0-6h6m-6 0H6\" />\r\n        </svg>\r\n      ),\r\n    },\r\n    {\r\n      name: 'Orders',\r\n      path: '/dashboard/orders',\r\n      icon: (\r\n        <svg className=\"h-6 w-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2\" />\r\n        </svg>\r\n      ),\r\n    },\r\n    {\r\n      name: 'Customers',\r\n      path: '/dashboard/customers',\r\n      icon: (\r\n        <svg className=\"h-6 w-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\r\n        </svg>\r\n      ),\r\n    },\r\n    {\r\n      name: 'Settings',\r\n      path: '/dashboard/settings',\r\n      icon: (\r\n        <svg className=\"h-6 w-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\" />\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\r\n        </svg>\r\n      ),\r\n    },\r\n    {\r\n      name: 'Back to Store',\r\n      path: '/',\r\n      icon: (\r\n        <svg className=\"h-6 w-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M10 19l-7-7m0 0l7-7m-7 7h18\" />\r\n        </svg>\r\n      ),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <ul className=\"space-y-2\">\r\n      {navItems.map((item) => (\r\n        <li key={item.path}>\r\n          <Link\r\n            href={item.path}\r\n            onClick={closeMobileMenu}\r\n            className={`flex items-center p-2 rounded-md hover:bg-indigo-700 transition-colors ${\r\n              activePath === item.path ? 'bg-indigo-700' : ''\r\n            }`}\r\n          >\r\n            <span className=\"text-white\">{item.icon}</span>\r\n            {!collapsed && <span className=\"ml-3 text-white\">{item.name}</span>}\r\n          </Link>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n} "],"names":[],"mappings":"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","debugId":null}}]
}