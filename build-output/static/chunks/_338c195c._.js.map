{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://G%3A/PORTFOLIO/e-commerce-store/lib/imageUtils.ts"],"sourcesContent":["/**\r\n * Utility functions for handling images in the application\r\n */\r\nimport { transformFirebaseStorageUrl } from './firebaseUtils';\r\n\r\n/**\r\n * Checks if a URL is a placeholder.com URL that might fail\r\n */\r\nexport const isPlaceholderUrl = (url: string): boolean => {\r\n  return url && typeof url === 'string' && \r\n    (url.includes('via.placeholder.com') || \r\n     url.includes('placeholder.com') || \r\n     url.includes('placehold.co'));\r\n};\r\n\r\n/**\r\n * Checks if a URL is a Firebase Storage URL\r\n */\r\nexport const isFirebaseStorageUrl = (url: string): boolean => {\r\n  return url && typeof url === 'string' && \r\n    (url.includes('firebasestorage.googleapis.com') || \r\n     url.includes('firebasestorage.app'));\r\n};\r\n\r\n/**\r\n * Generates a base64 SVG image as a fallback for failed placeholder URLs\r\n */\r\nexport const generateFallbackImage = (text: string = 'Image'): string => {\r\n  // Extract filename from placeholder URL if possible\r\n  let displayText = text;\r\n  try {\r\n    if (text.includes('text=')) {\r\n      const encodedText = text.split('text=')[1].split('&')[0];\r\n      displayText = decodeURIComponent(encodedText);\r\n    }\r\n  } catch (e) {\r\n    console.error('Error extracting text from placeholder URL:', e);\r\n  }\r\n\r\n  // Generate a colored rectangle with the filename\r\n  const colors = [\r\n    '#4285F4', // Google Blue\r\n    '#34A853', // Google Green\r\n    '#FBBC05', // Google Yellow\r\n    '#EA4335', // Google Red\r\n    '#5E35B1', // Deep Purple\r\n    '#1E88E5', // Blue\r\n    '#43A047', // Green\r\n    '#E53935', // Red\r\n    '#FB8C00', // Orange\r\n    '#00ACC1', // Cyan\r\n  ];\r\n  const color = colors[Math.floor(Math.random() * colors.length)];\r\n  \r\n  const svgContent = `\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"600\" height=\"400\" viewBox=\"0 0 600 400\">\r\n      <rect width=\"600\" height=\"400\" fill=\"${color}\" />\r\n      <text x=\"50%\" y=\"50%\" font-family=\"Arial\" font-size=\"24\" text-anchor=\"middle\" fill=\"white\">${displayText}</text>\r\n    </svg>\r\n  `;\r\n  \r\n  // Convert SVG to base64 data URL\r\n  const base64Image = `data:image/svg+xml;base64,${btoa(svgContent.trim())}`;\r\n  return base64Image;\r\n};\r\n\r\n/**\r\n * Route a Firebase Storage URL through our proxy to avoid CORS issues\r\n */\r\nexport const getProxiedFirebaseUrl = (url: string): string => {\r\n  if (!url || typeof url !== 'string') return '';\r\n  \r\n  // If it's already a proxied URL or not a Firebase Storage URL, return as is\r\n  if (!isFirebaseStorageUrl(url) || url.includes('/api/firebase-image')) {\r\n    return url;\r\n  }\r\n  \r\n  // First transform the URL into proper Firebase Storage format\r\n  const transformedUrl = transformFirebaseStorageUrl(url);\r\n  \r\n  // Then proxy it through our API route\r\n  return `/api/firebase-image?url=${encodeURIComponent(transformedUrl)}`;\r\n};\r\n\r\n/**\r\n * Gets a safe image URL, replacing placeholder URLs with base64 images if needed\r\n * and transforming Firebase Storage URLs to direct download URLs\r\n */\r\nexport const getSafeImageUrl = (originalUrl: string): string => {\r\n  // If it's not a valid URL, return a fallback\r\n  if (!originalUrl || typeof originalUrl !== 'string') {\r\n    return generateFallbackImage('Image');\r\n  }\r\n  \r\n  // If it's a placeholder URL, replace with a base64 image\r\n  if (isPlaceholderUrl(originalUrl)) {\r\n    return generateFallbackImage(originalUrl);\r\n  }\r\n  \r\n  // If it's a Firebase Storage URL, use our proxy route\r\n  if (isFirebaseStorageUrl(originalUrl)) {\r\n    return getProxiedFirebaseUrl(originalUrl);\r\n  }\r\n  \r\n  // Otherwise, return the original URL\r\n  return originalUrl;\r\n}; "],"names":[],"mappings":"AAAA;;CAEC;;;;;;;AACD;;AAKO,MAAM,mBAAmB,CAAC;IAC/B,OAAO,OAAO,OAAO,QAAQ,YAC3B,CAAC,IAAI,QAAQ,CAAC,0BACb,IAAI,QAAQ,CAAC,sBACb,IAAI,QAAQ,CAAC,eAAe;AACjC;AAKO,MAAM,uBAAuB,CAAC;IACnC,OAAO,OAAO,OAAO,QAAQ,YAC3B,CAAC,IAAI,QAAQ,CAAC,qCACb,IAAI,QAAQ,CAAC,sBAAsB;AACxC;AAKO,MAAM,wBAAwB,CAAC,OAAe,OAAO;IAC1D,oDAAoD;IACpD,IAAI,cAAc;IAClB,IAAI;QACF,IAAI,KAAK,QAAQ,CAAC,UAAU;YAC1B,MAAM,cAAc,KAAK,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;YACxD,cAAc,mBAAmB;QACnC;IACF,EAAE,OAAO,GAAG;QACV,QAAQ,KAAK,CAAC,+CAA+C;IAC/D;IAEA,iDAAiD;IACjD,MAAM,SAAS;QACb;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;IACD,MAAM,QAAQ,MAAM,CAAC,KAAK,KAAK,CAAC,KAAK,MAAM,KAAK,OAAO,MAAM,EAAE;IAE/D,MAAM,aAAa,CAAC;;2CAEqB,EAAE,MAAM;iGAC8C,EAAE,YAAY;;EAE7G,CAAC;IAED,iCAAiC;IACjC,MAAM,cAAc,CAAC,0BAA0B,EAAE,KAAK,WAAW,IAAI,KAAK;IAC1E,OAAO;AACT;AAKO,MAAM,wBAAwB,CAAC;IACpC,IAAI,CAAC,OAAO,OAAO,QAAQ,UAAU,OAAO;IAE5C,4EAA4E;IAC5E,IAAI,CAAC,qBAAqB,QAAQ,IAAI,QAAQ,CAAC,wBAAwB;QACrE,OAAO;IACT;IAEA,8DAA8D;IAC9D,MAAM,iBAAiB,CAAA,GAAA,uHAAA,CAAA,8BAA2B,AAAD,EAAE;IAEnD,sCAAsC;IACtC,OAAO,CAAC,wBAAwB,EAAE,mBAAmB,iBAAiB;AACxE;AAMO,MAAM,kBAAkB,CAAC;IAC9B,6CAA6C;IAC7C,IAAI,CAAC,eAAe,OAAO,gBAAgB,UAAU;QACnD,OAAO,sBAAsB;IAC/B;IAEA,yDAAyD;IACzD,IAAI,iBAAiB,cAAc;QACjC,OAAO,sBAAsB;IAC/B;IAEA,sDAAsD;IACtD,IAAI,qBAAqB,cAAc;QACrC,OAAO,sBAAsB;IAC/B;IAEA,qCAAqC;IACrC,OAAO;AACT","debugId":null}},
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file://G%3A/PORTFOLIO/e-commerce-store/components/ImprovedImage.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport Image, { ImageProps } from 'next/image';\nimport { isPlaceholderUrl, getSafeImageUrl, isFirebaseStorageUrl, generateFallbackImage } from '../lib/imageUtils';\n\n// This component adds robust error handling to the Next.js Image component\nexport default function ImprovedImage({\n  src,\n  alt,\n  width = 300,\n  height = 300,\n  priority = false,\n  loading,\n  ...props\n}: ImageProps) {\n  const [error, setError] = useState(false);\n  const [nextJsImageFailed, setNextJsImageFailed] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  \n  // Convert placeholder URLs to base64 images\n  const [safeSrc, setSafeSrc] = useState<string | null>(null);\n  \n  // Update safeSrc when src changes\n  useEffect(() => {\n    // Handle empty or invalid src\n    if (!src || (typeof src === 'string' && src.trim() === '')) {\n      // Use a default generated image\n      setSafeSrc(generateFallbackImage(alt?.toString() || 'Image'));\n      setIsLoading(false);\n      return;\n    }\n    \n    if (typeof src === 'string') {\n      // If it's a placeholder URL that might fail, replace it with a base64 SVG\n      if (isPlaceholderUrl(src)) {\n        setSafeSrc(getSafeImageUrl(src));\n      } else if (isFirebaseStorageUrl(src)) {\n        // Also handle Firebase storage URLs\n        setSafeSrc(getSafeImageUrl(src));\n      } else {\n        setSafeSrc(src);\n      }\n    } else if (src && typeof src === 'object') {\n      // Handle StaticImageData\n      setSafeSrc(src);\n    } else {\n      // Fallback for any other case\n      setSafeSrc(generateFallbackImage(alt?.toString() || 'Image'));\n    }\n    \n    // Reset error states\n    setError(false);\n    setNextJsImageFailed(false);\n    setIsLoading(true);\n  }, [src, alt]);\n  \n  // Generate a small, simple placeholder\n  const simplePlaceholder = `data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 ${width} ${height}' fill='%23e5e7eb'%3E%3Crect width='${width}' height='${height}' /%3E%3C/svg%3E`;\n  \n  // Handle load event\n  const handleLoad = () => {\n    setIsLoading(false);\n  };\n  \n  // Handle initial Next.js Image error\n  const handleNextJsError = () => {\n    console.warn(`Next.js Image failed to load: ${safeSrc}`);\n    setNextJsImageFailed(true);\n    setIsLoading(false);\n  };\n  \n  // Handle fallback image error\n  const handleFallbackError = () => {\n    console.warn(`Fallback image also failed: ${safeSrc}`);\n    setError(true);\n  };\n\n  // Don't render anything if we don't have a valid src\n  if (!safeSrc) {\n    return (\n      <div \n        className=\"relative overflow-hidden bg-gray-100 flex items-center justify-center\"\n        style={{ width, height, background: '#f3f4f6' }}\n      >\n        <div className=\"w-8 h-8 border-2 border-gray-200 border-t-gray-400 rounded-full animate-spin\"></div>\n      </div>\n    );\n  }\n\n  // Create image props, ensuring we don't pass both priority and loading\n  const imageProps: any = {\n    src: safeSrc,\n    alt: alt || \"Product image\",\n    width: width,\n    height: height,\n    onError: handleNextJsError,\n    onLoad: handleLoad,\n    quality: 60, // Lower quality to reduce chances of timeout\n    ...props,\n    className: `${props.className || ''} ${isLoading ? 'opacity-0' : 'opacity-100'} transition-opacity duration-300`,\n  };\n\n  // Set priority or loading property but not both\n  if (priority) {\n    imageProps.priority = true;\n    // Don't set loading when priority is true\n  } else if (loading) {\n    imageProps.loading = loading;\n  } else {\n    imageProps.loading = 'lazy';\n  }\n\n  // If next.js image failed, use regular img tag as fallback\n  if (nextJsImageFailed) {\n    return (\n      <div className=\"relative overflow-hidden\" style={{ background: '#f3f4f6' }}>\n        {!error ? (\n          <img\n            src={safeSrc}\n            alt={alt || \"Product image\"}\n            width={width}\n            height={height}\n            onError={handleFallbackError}\n            loading={priority ? \"eager\" : \"lazy\"}\n            className={`${props.className || ''} w-full h-full object-cover`}\n          />\n        ) : (\n          // Show a placeholder if both Next.js Image and regular img fail\n          <div className=\"flex items-center justify-center bg-gray-100 w-full h-full\">\n            <svg className=\"w-12 h-12 text-gray-300\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-1 16H6c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h12c.55 0 1 .45 1 1v12c0 .55-.45 1-1 1zm-4.44-6.19l-2.35 3.02-1.56-1.88c-.2-.25-.58-.24-.78.01l-1.74 2.23c-.2.26-.05.64.27.64h8.98c.32 0 .48-.39.28-.66l-2.54-3.14c-.2-.25-.58-.25-.78 0z\" />\n            </svg>\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  // Try the Next.js Image component first\n  return (\n    <div className=\"relative overflow-hidden\" style={{ background: '#f3f4f6' }}>\n      {isLoading && (\n        <div \n          className=\"absolute inset-0 flex items-center justify-center bg-gray-100\"\n          aria-hidden=\"true\"\n        >\n          <div className=\"w-8 h-8 border-2 border-gray-200 border-t-gray-400 rounded-full animate-spin\"></div>\n        </div>\n      )}\n      <Image {...imageProps} />\n    </div>\n  );\n} \n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;;;AAJA;;;;AAOe,SAAS,cAAc,EACpC,GAAG,EACH,GAAG,EACH,QAAQ,GAAG,EACX,SAAS,GAAG,EACZ,WAAW,KAAK,EAChB,OAAO,EACP,GAAG,OACQ;;IACX,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,mBAAmB,qBAAqB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC3D,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,4CAA4C;IAC5C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAEtD,kCAAkC;IAClC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;mCAAE;YACR,8BAA8B;YAC9B,IAAI,CAAC,OAAQ,OAAO,QAAQ,YAAY,IAAI,IAAI,OAAO,IAAK;gBAC1D,gCAAgC;gBAChC,WAAW,CAAA,GAAA,oHAAA,CAAA,wBAAqB,AAAD,EAAE,KAAK,cAAc;gBACpD,aAAa;gBACb;YACF;YAEA,IAAI,OAAO,QAAQ,UAAU;gBAC3B,0EAA0E;gBAC1E,IAAI,CAAA,GAAA,oHAAA,CAAA,mBAAgB,AAAD,EAAE,MAAM;oBACzB,WAAW,CAAA,GAAA,oHAAA,CAAA,kBAAe,AAAD,EAAE;gBAC7B,OAAO,IAAI,CAAA,GAAA,oHAAA,CAAA,uBAAoB,AAAD,EAAE,MAAM;oBACpC,oCAAoC;oBACpC,WAAW,CAAA,GAAA,oHAAA,CAAA,kBAAe,AAAD,EAAE;gBAC7B,OAAO;oBACL,WAAW;gBACb;YACF,OAAO,IAAI,OAAO,OAAO,QAAQ,UAAU;gBACzC,yBAAyB;gBACzB,WAAW;YACb,OAAO;gBACL,8BAA8B;gBAC9B,WAAW,CAAA,GAAA,oHAAA,CAAA,wBAAqB,AAAD,EAAE,KAAK,cAAc;YACtD;YAEA,qBAAqB;YACrB,SAAS;YACT,qBAAqB;YACrB,aAAa;QACf;kCAAG;QAAC;QAAK;KAAI;IAEb,uCAAuC;IACvC,MAAM,oBAAoB,CAAC,0EAA0E,EAAE,MAAM,CAAC,EAAE,OAAO,oCAAoC,EAAE,MAAM,UAAU,EAAE,OAAO,gBAAgB,CAAC;IAEvM,oBAAoB;IACpB,MAAM,aAAa;QACjB,aAAa;IACf;IAEA,qCAAqC;IACrC,MAAM,oBAAoB;QACxB,QAAQ,IAAI,CAAC,CAAC,8BAA8B,EAAE,SAAS;QACvD,qBAAqB;QACrB,aAAa;IACf;IAEA,8BAA8B;IAC9B,MAAM,sBAAsB;QAC1B,QAAQ,IAAI,CAAC,CAAC,4BAA4B,EAAE,SAAS;QACrD,SAAS;IACX;IAEA,qDAAqD;IACrD,IAAI,CAAC,SAAS;QACZ,qBACE,6LAAC;YACC,WAAU;YACV,OAAO;gBAAE;gBAAO;gBAAQ,YAAY;YAAU;sBAE9C,cAAA,6LAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,uEAAuE;IACvE,MAAM,aAAkB;QACtB,KAAK;QACL,KAAK,OAAO;QACZ,OAAO;QACP,QAAQ;QACR,SAAS;QACT,QAAQ;QACR,SAAS;QACT,GAAG,KAAK;QACR,WAAW,GAAG,MAAM,SAAS,IAAI,GAAG,CAAC,EAAE,YAAY,cAAc,cAAc,gCAAgC,CAAC;IAClH;IAEA,gDAAgD;IAChD,IAAI,UAAU;QACZ,WAAW,QAAQ,GAAG;IACtB,0CAA0C;IAC5C,OAAO,IAAI,SAAS;QAClB,WAAW,OAAO,GAAG;IACvB,OAAO;QACL,WAAW,OAAO,GAAG;IACvB;IAEA,2DAA2D;IAC3D,IAAI,mBAAmB;QACrB,qBACE,6LAAC;YAAI,WAAU;YAA2B,OAAO;gBAAE,YAAY;YAAU;sBACtE,CAAC,sBACA,6LAAC;gBACC,KAAK;gBACL,KAAK,OAAO;gBACZ,OAAO;gBACP,QAAQ;gBACR,SAAS;gBACT,SAAS,WAAW,UAAU;gBAC9B,WAAW,GAAG,MAAM,SAAS,IAAI,GAAG,2BAA2B,CAAC;;;;;uBAGlE,gEAAgE;0BAChE,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;oBAA0B,MAAK;oBAAe,SAAQ;8BACnE,cAAA,6LAAC;wBAAK,GAAE;;;;;;;;;;;;;;;;;;;;;IAMpB;IAEA,wCAAwC;IACxC,qBACE,6LAAC;QAAI,WAAU;QAA2B,OAAO;YAAE,YAAY;QAAU;;YACtE,2BACC,6LAAC;gBACC,WAAU;gBACV,eAAY;0BAEZ,cAAA,6LAAC;oBAAI,WAAU;;;;;;;;;;;0BAGnB,6LAAC,gIAAA,CAAA,UAAK;gBAAE,GAAG,UAAU;;;;;;;;;;;;AAG3B;GAlJwB;KAAA","debugId":null}},
    {"offset": {"line": 309, "column": 0}, "map": {"version":3,"sources":["file://G%3A/PORTFOLIO/e-commerce-store/app/%28admin%29/dashboard/products/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport Link from 'next/link';\r\nimport { useAuth } from '../../../../lib/authContext';\r\nimport { getProducts, deleteProduct } from '../../../../lib/firebaseUtils';\r\nimport { Product } from '../../../../lib/types';\r\nimport ImprovedImage from '../../../../components/ImprovedImage';\r\nimport { toast } from 'react-hot-toast';\r\n\r\nexport default function ProductsPage() {\r\n  const { user, loading, isAdmin } = useAuth();\r\n  const router = useRouter();\r\n  \r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [filteredProducts, setFilteredProducts] = useState<Product[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isDeletingProduct, setIsDeletingProduct] = useState<string | null>(null);\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState<string | null>(null);\r\n  \r\n  // Filters and sorting\r\n  const [categoryFilter, setCategoryFilter] = useState('all');\r\n  const [stockFilter, setStockFilter] = useState('all');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [sortBy, setSortBy] = useState('name');\r\n  const [sortOrder, setSortOrder] = useState<'asc' | 'desc'>('asc');\r\n  \r\n  // Pagination\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const productsPerPage = 10;\r\n\r\n  // Available categories\r\n  const categories = ['electronics', 'clothing', 'accessories', 'home'];\r\n  \r\n  // Format currency\r\n  const formatCurrency = (amount: number) => {\r\n    return new Intl.NumberFormat('en-US', {\r\n      style: 'currency',\r\n      currency: 'USD',\r\n    }).format(amount);\r\n  };\r\n\r\n  useEffect(() => {\r\n    // If not loading and either no user or not admin, redirect to login\r\n    if (!loading && (!user || !isAdmin)) {\r\n      router.push('/login?redirect=/dashboard');\r\n    }\r\n  }, [user, loading, isAdmin, router]);\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      if (user && isAdmin) {\r\n        try {\r\n          setIsLoading(true);\r\n          const fetchedProducts = await getProducts();\r\n          setProducts(fetchedProducts);\r\n          setFilteredProducts(fetchedProducts);\r\n        } catch (error) {\r\n          console.error('Error fetching products:', error);\r\n          toast.error('Failed to load products');\r\n        } finally {\r\n          setIsLoading(false);\r\n        }\r\n      }\r\n    };\r\n\r\n    if (user && isAdmin) {\r\n      fetchProducts();\r\n    }\r\n  }, [user, isAdmin]);\r\n\r\n  // Apply filters, sorting, and pagination\r\n  useEffect(() => {\r\n    if (products.length === 0) return;\r\n    \r\n    let result = [...products];\r\n    \r\n    // Apply category filter\r\n    if (categoryFilter !== 'all') {\r\n      result = result.filter(product => product.category === categoryFilter);\r\n    }\r\n    \r\n    // Apply stock filter\r\n    if (stockFilter === 'outOfStock') {\r\n      result = result.filter(product => product.stock === 0);\r\n    } else if (stockFilter === 'lowStock') {\r\n      result = result.filter(product => product.stock > 0 && product.stock <= 5);\r\n    } else if (stockFilter === 'inStock') {\r\n      result = result.filter(product => product.stock > 5);\r\n    }\r\n    \r\n    // Apply search filter\r\n    if (searchQuery) {\r\n      const query = searchQuery.toLowerCase();\r\n      result = result.filter(product => \r\n        product.name.toLowerCase().includes(query) ||\r\n        product.description.toLowerCase().includes(query)\r\n      );\r\n    }\r\n    \r\n    // Apply sorting\r\n    result.sort((a, b) => {\r\n      let compareResult = 0;\r\n      \r\n      switch (sortBy) {\r\n        case 'name':\r\n          compareResult = a.name.localeCompare(b.name);\r\n          break;\r\n        case 'price':\r\n          compareResult = a.price - b.price;\r\n          break;\r\n        case 'stock':\r\n          compareResult = a.stock - b.stock;\r\n          break;\r\n        case 'category':\r\n          compareResult = a.category.localeCompare(b.category);\r\n          break;\r\n        default:\r\n          compareResult = 0;\r\n      }\r\n      \r\n      return sortOrder === 'asc' ? compareResult : -compareResult;\r\n    });\r\n    \r\n    setFilteredProducts(result);\r\n    setCurrentPage(1); // Reset to first page when filters change\r\n  }, [products, categoryFilter, stockFilter, searchQuery, sortBy, sortOrder]);\r\n\r\n  const handleDeleteClick = (productId: string) => {\r\n    setShowDeleteConfirm(productId);\r\n  };\r\n\r\n  const handleDeleteConfirm = async (productId: string) => {\r\n    setIsDeletingProduct(productId);\r\n    \r\n    try {\r\n      await deleteProduct(productId);\r\n      \r\n      // Update products list after deletion\r\n      setProducts(prevProducts => prevProducts.filter(product => product.id !== productId));\r\n      toast.success('Product deleted successfully');\r\n    } catch (error) {\r\n      console.error('Error deleting product:', error);\r\n      toast.error('Failed to delete product');\r\n    } finally {\r\n      setIsDeletingProduct(null);\r\n      setShowDeleteConfirm(null);\r\n    }\r\n  };\r\n\r\n  const handleDeleteCancel = () => {\r\n    setShowDeleteConfirm(null);\r\n  };\r\n\r\n  const clearFilters = () => {\r\n    setCategoryFilter('all');\r\n    setStockFilter('all');\r\n    setSearchQuery('');\r\n    setSortBy('name');\r\n    setSortOrder('asc');\r\n  };\r\n\r\n  // Get current products for pagination\r\n  const indexOfLastProduct = currentPage * productsPerPage;\r\n  const indexOfFirstProduct = indexOfLastProduct - productsPerPage;\r\n  const currentProducts = filteredProducts.slice(indexOfFirstProduct, indexOfLastProduct);\r\n  const totalPages = Math.ceil(filteredProducts.length / productsPerPage);\r\n\r\n  // Change page\r\n  const paginate = (pageNumber: number) => setCurrentPage(pageNumber);\r\n\r\n  if (loading || !user || !isAdmin) {\r\n    return (\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n        <div className=\"animate-pulse\">\r\n          <div className=\"h-8 bg-gray-200 rounded w-1/4 mb-6\"></div>\r\n          <div className=\"h-64 bg-gray-200 rounded\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12\">\r\n      <div className=\"md:flex md:items-center md:justify-between mb-8\">\r\n        <div className=\"flex-1 min-w-0\">\r\n          <h2 className=\"text-2xl font-bold leading-7 text-gray-900 sm:text-3xl\">\r\n            Products\r\n          </h2>\r\n          <p className=\"mt-1 text-sm text-gray-500\">\r\n            Manage your store products\r\n          </p>\r\n        </div>\r\n        <div className=\"mt-4 flex md:mt-0 md:ml-4\">\r\n          <Link\r\n            href=\"/dashboard/products/new\"\r\n            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n          >\r\n            Add New Product\r\n          </Link>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"bg-white shadow rounded-lg mb-8\">\r\n        <div className=\"p-6\">\r\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Filters</h3>\r\n          \r\n          <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\r\n            {/* Category filter */}\r\n            <div>\r\n              <label htmlFor=\"category-filter\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Category\r\n              </label>\r\n              <select\r\n                id=\"category-filter\"\r\n                value={categoryFilter}\r\n                onChange={(e) => setCategoryFilter(e.target.value)}\r\n                className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n              >\r\n                <option value=\"all\">All Categories</option>\r\n                {categories.map((category) => (\r\n                  <option key={category} value={category}>\r\n                    {category.charAt(0).toUpperCase() + category.slice(1)}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            \r\n            {/* Stock filter */}\r\n            <div>\r\n              <label htmlFor=\"stock-filter\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Stock\r\n              </label>\r\n              <select\r\n                id=\"stock-filter\"\r\n                value={stockFilter}\r\n                onChange={(e) => setStockFilter(e.target.value)}\r\n                className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n              >\r\n                <option value=\"all\">All Stock Levels</option>\r\n                <option value=\"inStock\">In Stock (>5)</option>\r\n                <option value=\"lowStock\">Low Stock (1-5)</option>\r\n                <option value=\"outOfStock\">Out of Stock</option>\r\n              </select>\r\n            </div>\r\n            \r\n            {/* Search filter */}\r\n            <div>\r\n              <label htmlFor=\"search-filter\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Search\r\n              </label>\r\n              <input\r\n                id=\"search-filter\"\r\n                type=\"text\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                placeholder=\"Product name or description\"\r\n                className=\"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n              />\r\n            </div>\r\n            \r\n            {/* Sort options */}\r\n            <div>\r\n              <label htmlFor=\"sort-by\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                Sort By\r\n              </label>\r\n              <div className=\"mt-1 flex\">\r\n                <select\r\n                  id=\"sort-by\"\r\n                  value={sortBy}\r\n                  onChange={(e) => setSortBy(e.target.value)}\r\n                  className=\"block w-full border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\r\n                >\r\n                  <option value=\"name\">Name</option>\r\n                  <option value=\"price\">Price</option>\r\n                  <option value=\"stock\">Stock</option>\r\n                  <option value=\"category\">Category</option>\r\n                </select>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc')}\r\n                  className=\"ml-2 inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n                >\r\n                  {sortOrder === 'asc' ? (\r\n                    <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 15l7-7 7 7\" />\r\n                    </svg>\r\n                  ) : (\r\n                    <svg className=\"h-4 w-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\r\n                    </svg>\r\n                  )}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"mt-4 flex justify-end\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={clearFilters}\r\n              className=\"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\r\n            >\r\n              Clear Filters\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Products Table */}\r\n      <div className=\"bg-white shadow rounded-lg overflow-hidden\">\r\n        <div className=\"overflow-x-auto\">\r\n          {isLoading ? (\r\n            <div className=\"p-8\">\r\n              <div className=\"animate-pulse space-y-4\">\r\n                <div className=\"h-4 bg-gray-200 rounded w-1/4\"></div>\r\n                <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\r\n                <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\r\n                <div className=\"h-4 bg-gray-200 rounded w-3/5\"></div>\r\n                <div className=\"h-4 bg-gray-200 rounded w-2/3\"></div>\r\n              </div>\r\n            </div>\r\n          ) : filteredProducts.length === 0 ? (\r\n            <div className=\"p-8 text-center\">\r\n              <p className=\"text-gray-500\">No products found matching your filters</p>\r\n            </div>\r\n          ) : (\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <thead className=\"bg-gray-50\">\r\n                <tr>\r\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Product\r\n                  </th>\r\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Category\r\n                  </th>\r\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Price\r\n                  </th>\r\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Stock\r\n                  </th>\r\n                  <th scope=\"col\" className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Actions\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {currentProducts.map((product) => (\r\n                  <tr key={product.id}>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <div className=\"flex items-center\">\r\n                        <div className=\"flex-shrink-0 h-10 w-10 bg-gray-100 rounded-md overflow-hidden\">\r\n                          {product.images && product.images.length > 0 ? (\r\n                            <ImprovedImage\r\n                              src={product.images[0]}\r\n                              alt={product.name}\r\n                              width={40}\r\n                              height={40}\r\n                              className=\"h-10 w-10 object-cover\"\r\n                            />\r\n                          ) : (\r\n                            <div className=\"h-10 w-10 flex items-center justify-center bg-gray-200 text-gray-400 text-xs\">\r\n                              No image\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"ml-4\">\r\n                          <Link href={`/dashboard/products/${product.id}`} className=\"text-sm font-medium text-gray-900 hover:text-indigo-600\">\r\n                            {product.name}\r\n                          </Link>\r\n                          <div className=\"text-xs text-gray-500 truncate max-w-xs\">\r\n                            {product.description.length > 70 \r\n                              ? product.description.substring(0, 70) + '...' \r\n                              : product.description}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800\">\r\n                        {product.category.charAt(0).toUpperCase() + product.category.slice(1)}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                      {formatCurrency(product.price)}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                      {product.stock === 0 ? (\r\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800\">\r\n                          Out of stock\r\n                        </span>\r\n                      ) : product.stock <= 5 ? (\r\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800\">\r\n                          Low: {product.stock}\r\n                        </span>\r\n                      ) : (\r\n                        <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800\">\r\n                          {product.stock}\r\n                        </span>\r\n                      )}\r\n                    </td>\r\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\r\n                      <div className=\"flex space-x-3\">\r\n                        <Link \r\n                          href={`/products/${product.id}`}\r\n                          className=\"text-gray-600 hover:text-gray-900\"\r\n                          target=\"_blank\"\r\n                        >\r\n                          View\r\n                        </Link>\r\n                        <Link \r\n                          href={`/dashboard/products/${product.id}`}\r\n                          className=\"text-indigo-600 hover:text-indigo-900\"\r\n                        >\r\n                          Edit\r\n                        </Link>\r\n                        <button\r\n                          onClick={() => handleDeleteClick(product.id)}\r\n                          className=\"text-red-600 hover:text-red-900\"\r\n                          disabled={isDeletingProduct === product.id}\r\n                        >\r\n                          {isDeletingProduct === product.id ? 'Deleting...' : 'Delete'}\r\n                        </button>\r\n                      </div>\r\n                      \r\n                      {/* Delete confirmation popover */}\r\n                      {showDeleteConfirm === product.id && (\r\n                        <div className=\"absolute z-10 mt-2 bg-white shadow-lg rounded-md p-4 border border-gray-200 max-w-xs\">\r\n                          <p className=\"text-sm text-gray-700 mb-3\">\r\n                            Are you sure you want to delete <strong>{product.name}</strong>?\r\n                          </p>\r\n                          <div className=\"flex justify-end space-x-2\">\r\n                            <button\r\n                              onClick={handleDeleteCancel}\r\n                              className=\"text-xs py-1 px-2 border border-gray-300 rounded hover:bg-gray-50\"\r\n                            >\r\n                              Cancel\r\n                            </button>\r\n                            <button\r\n                              onClick={() => handleDeleteConfirm(product.id)}\r\n                              className=\"text-xs py-1 px-2 bg-red-600 text-white rounded hover:bg-red-700\"\r\n                            >\r\n                              Delete\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          )}\r\n        </div>\r\n        \r\n        {/* Pagination */}\r\n        {filteredProducts.length > productsPerPage && (\r\n          <div className=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\">\r\n            <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\r\n              <div>\r\n                <p className=\"text-sm text-gray-700\">\r\n                  Showing <span className=\"font-medium\">{indexOfFirstProduct + 1}</span> to{' '}\r\n                  <span className=\"font-medium\">\r\n                    {Math.min(indexOfLastProduct, filteredProducts.length)}\r\n                  </span>{' '}\r\n                  of <span className=\"font-medium\">{filteredProducts.length}</span> products\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\" aria-label=\"Pagination\">\r\n                  <button\r\n                    onClick={() => paginate(Math.max(1, currentPage - 1))}\r\n                    disabled={currentPage === 1}\r\n                    className={`relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ${\r\n                      currentPage === 1 ? 'text-gray-300' : 'text-gray-500 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    <span className=\"sr-only\">Previous</span>\r\n                    <svg className=\"h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                      <path fillRule=\"evenodd\" d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                  </button>\r\n                  \r\n                  {Array.from({ length: totalPages }).map((_, index) => {\r\n                    const pageNumber = index + 1;\r\n                    // Show only 5 page buttons at a time\r\n                    if (\r\n                      pageNumber === 1 ||\r\n                      pageNumber === totalPages ||\r\n                      (pageNumber >= currentPage - 1 && pageNumber <= currentPage + 1)\r\n                    ) {\r\n                      return (\r\n                        <button\r\n                          key={pageNumber}\r\n                          onClick={() => paginate(pageNumber)}\r\n                          className={`relative inline-flex items-center px-4 py-2 border text-sm font-medium ${\r\n                            currentPage === pageNumber\r\n                              ? 'z-10 bg-indigo-50 border-indigo-500 text-indigo-600'\r\n                              : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50'\r\n                          }`}\r\n                        >\r\n                          {pageNumber}\r\n                        </button>\r\n                      );\r\n                    }\r\n                    // Show ellipsis\r\n                    if (\r\n                      (pageNumber === 2 && currentPage > 3) ||\r\n                      (pageNumber === totalPages - 1 && currentPage < totalPages - 2)\r\n                    ) {\r\n                      return (\r\n                        <span\r\n                          key={pageNumber}\r\n                          className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700\"\r\n                        >\r\n                          ...\r\n                        </span>\r\n                      );\r\n                    }\r\n                    return null;\r\n                  })}\r\n                  \r\n                  <button\r\n                    onClick={() => paginate(Math.min(totalPages, currentPage + 1))}\r\n                    disabled={currentPage === totalPages}\r\n                    className={`relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ${\r\n                      currentPage === totalPages ? 'text-gray-300' : 'text-gray-500 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    <span className=\"sr-only\">Next</span>\r\n                    <svg className=\"h-5 w-5\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\r\n                      <path fillRule=\"evenodd\" d=\"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                  </button>\r\n                </nav>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n} "],"names":[],"mappings":"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","debugId":null}}]
}